{% extends "base.twig" %}

{% block title %}Dashboard - {{ app_name }}{% endblock %}

{% block body %}
<div class="dashboard-page">
    <header class="dashboard-header">
        <div class="container">
            <div class="dashboard-nav">
                <a href="/" class="dashboard-logo">
                    <span class="logo-icon">🎫</span>
                    <span class="logo-text">TicketFlow</span>
                </a>
                <div class="dashboard-nav-right">
                    <span class="dashboard-user">👤 {{ user.name }}</span>
                    <a href="/logout" class="btn btn-secondary">Logout</a>
                </div>
            </div>
        </div>
    </header>

    <main class="dashboard-main">
        <div class="container">
            <div class="dashboard-welcome">
                <h1 class="dashboard-title">Welcome back, {{ user.name }}! 👋</h1>
                <p class="dashboard-subtitle">Here's an overview of your ticket management system</p>
            </div>

            <div class="stats-grid">
                <div class="stat-card stat-card-primary">
                    <div class="stat-icon">📊</div>
                    <div class="stat-content">
                        <h3 class="stat-number">{{ stats.total }}</h3>
                        <p class="stat-label">Total Tickets</p>
                    </div>
                </div>

                <div class="stat-card stat-card-success">
                    <div class="stat-icon">✅</div>
                    <div class="stat-content">
                        <h3 class="stat-number">{{ stats.open }}</h3>
                        <p class="stat-label">Open Tickets</p>
                    </div>
                </div>

                <div class="stat-card stat-card-warning">
                    <div class="stat-icon">⏳</div>
                    <div class="stat-content">
                        <h3 class="stat-number">{{ stats.inProgress }}</h3>
                        <p class="stat-label">In Progress</p>
                    </div>
                </div>

                <div class="stat-card stat-card-info">
                    <div class="stat-icon">🎯</div>
                    <div class="stat-content">
                        <h3 class="stat-number">{{ stats.closed }}</h3>
                        <p class="stat-label">Resolved Tickets</p>
                    </div>
                </div>
            </div>

            <div class="dashboard-section">
                <h2 class="section-title">Priority Breakdown</h2>
                <div class="priority-grid">
                    <div class="priority-card priority-high">
                        <div class="priority-icon">🔴</div>
                        <div class="priority-content">
                            <h3 class="priority-number">{{ stats.highPriority }}</h3>
                            <p class="priority-label">High Priority</p>
                        </div>
                    </div>

                    <div class="priority-card priority-medium">
                        <div class="priority-icon">🟡</div>
                        <div class="priority-content">
                            <h3 class="priority-number">{{ stats.mediumPriority }}</h3>
                            <p class="priority-label">Medium Priority</p>
                        </div>
                    </div>

                    <div class="priority-card priority-low">
                        <div class="priority-icon">🟢</div>
                        <div class="priority-content">
                            <h3 class="priority-number">{{ stats.lowPriority }}</h3>
                            <p class="priority-label">Low Priority</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="dashboard-section">
                <h2 class="section-title">Quick Actions</h2>
                <div class="actions-grid">
                    <a href="/tickets" class="action-card">
                        <div class="action-icon">🎫</div>
                        <h3 class="action-title">View All Tickets</h3>
                        <p class="action-description">Browse and manage all your support tickets</p>
                    </a>

                    <a href="/tickets/new" class="action-card">
                        <div class="action-icon">➕</div>
                        <h3 class="action-title">Create New Ticket</h3>
                        <p class="action-description">Submit a new support ticket for your issue</p>
                    </a>

                    <div class="action-card action-card-disabled">
                        <div class="action-icon">📈</div>
                        <h3 class="action-title">Analytics</h3>
                        <p class="action-description">View detailed reports and insights (Coming Soon)</p>
                    </div>

                    <div class="action-card action-card-disabled">
                        <div class="action-icon">⚙️</div>
                        <h3 class="action-title">Settings</h3>
                        <p class="action-description">Manage your account and preferences (Coming Soon)</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="dashboard-footer">
        <div class="container">
            <p>© 2025 TicketFlow. All rights reserved.</p>
        </div>
    </footer>
</div>
{% endblock %}

{% block scripts %}
<script>
    {% if success %}
        showToast('{{ success }}', 'success');
    {% endif %}
</script>
{% endblock %}